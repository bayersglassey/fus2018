
arr 1, 2, (arr 3, 4,),
dup len swap
dup
dup pop


obj 10 =.x 20 =.y 30 =.x obj =.nested
dup .nested
    "I was .nested" =.msg
    "Ich bin .nested" =.msg

"And then:"
obj arr 10, =.x arr 20, =.y
    ..x

"Arr get:"
arr "A", "B", "C",
dup 1 .$
over 1 ..$

"Arr set:"
arr "A", "B", "C",
"BEE" 1 =.$


"Join & Split:"

arr 1, 2, arr 3, 4, join
lpop 1 == assert
lpop 2 == assert
lpop 3 == assert
lpop 4 == assert
len 0 == assert

ignore:
    arr 1, 2, 3, 4,
    2 split
    lpop 3 == assert
    lpop 4 == assert
    len 0 == assert
    lpop 1 == assert
    lpop 2 == assert
    len 0 == assert


"Str:"

"abcd" str_len 4 == assert

"ab" "cd" str_join
"abcd" str_eq assert

"AB" ='AB
"CD" ='CD
"ABCD" ='ABCD
'AB 'CD str_join 'ABCD str_eq assert
'AB "AB" str_eq assert
'CD "CD" str_eq assert
'ABCD "ABCD" str_eq assert

ignore:
    "abcd" 2 str_split
    "cd" str_eq assert
    "ab" str_eq assert

    "A" 0 str_getcode ='A
    "xxx" 'A 1 str_setcode "xAx" str_eq assert

    `xyzzy sym_tostr "xyzzy" str_eq assert
    "xyzzy" str_tosym `xyzzy sym_eq assert

"Tests OK!\n" str_p
